!function(t){"use strict";function i(t,i){var e=i.create("masonryHorizontal");return e.prototype._resetLayout=function(){this.getRowHeight(),this._getMeasurement("gutter","outerHeight"),this.rowHeight+=this.gutter,this.rows=Math.floor((this.isotope.size.innerHeight+this.gutter)/this.rowHeight),this.rows=Math.max(this.rows,1);var t=this.rows;for(this.rowXs=[];t--;)this.rowXs.push(0);this.maxX=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var i=Math.ceil(t.size.outerHeight/this.rowHeight);i=Math.min(i,this.rows);for(var e=this._getRowGroup(i),r=Math.min.apply(Math,e),s=o(e,r),h={x:r,y:this.rowHeight*s},n=r+t.size.outerWidth,a=this.rows+1-e.length,u=0;a>u;u++)this.rowXs[s+u]=n;return h},e.prototype._getRowGroup=function(t){if(2>t)return this.rowXs;for(var i=[],o=this.rows+1-t,e=0;o>e;e++){var r=this.rowXs.slice(e,e+t);i[e]=Math.max.apply(Math,r)}return i},e.prototype._manageStamp=function(i){var o=t(i),e=this.isotope._getElementOffset(i),r=this.isotope.options.isOriginTop?e.top:e.bottom,s=r+o.outerHeight,h=Math.floor(r/this.rowHeight);h=Math.max(0,h);var n=Math.floor(s/this.rowHeight);n=Math.min(this.rows-1,n);for(var a=(this.isotope.options.isOriginLeft?e.left:e.right)+o.outerWidth,u=h;n>=u;u++)this.rowXs[u]=Math.max(a,this.rowXs[u])},e.prototype._getContainerSize=function(){return this.maxX=Math.max.apply(Math,this.rowXs),{width:this.maxX}},e.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},e}var o=Array.prototype.indexOf?function(t,i){return t.indexOf(i)}:function(t,i){for(var o=0,e=t.length;e>o;o++){var r=t[o];if(r===i)return o}return-1};"function"==typeof define&&define.amd?define(["get-size/get-size","isotope/js/layout-mode"],i):i(t.getSize,t.Isotope.LayoutMode)}(window);